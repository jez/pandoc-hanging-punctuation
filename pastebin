
-- local removeLeadingPushSpansTraverseInlines = {
--   -- Has to be topdown so that we can use startOfLine global to find line starts
--   traverse = 'topdown',
--
-- }
--
--   -- This is for pandoc's line_blocks extension
--   -- <https://pandoc.org/MANUAL.html#line-blocks>
--   -- Each list of inlines represents a new line with no Block in between,
--   -- so we have to walk this ourselves, directly
--   LineBlock = function(elem)
--     for i = 1, #elem.content do
--       startOfLine = true
--       elem.content[i] = removeLeadingPushSpansTraverseInlines['Inlines'](elem.content[i])
--       if not startOfLine then
--         break
--       end
--       for j = 1, #elem.content[j] do
--         local traverse = removeLeadingPushSpansTraverseInlines
--         -- TODO(jez) This doesn't type check
--         elem.content[i][j] = pandoc.walk_inline(elem.content[i][j], traverse)
--         if not startOfLine then
--           break
--         end
--       end
--     end
--   end,
